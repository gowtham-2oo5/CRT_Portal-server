### Attendance Controller Tests
### Base URL
@baseUrl = http://localhost:8080
@authToken = Bearer eyJhbGciOiJIUzM4NCJ9.eyJyb2xlIjoiQURNSU4iLCJuYW1lIjoiR293dGhhbSBTaXZhIEt1bWFyIiwidXNlcklkIjoiN2JkYTlmOGQtMDdmOC00N2YyLWE3MjMtMTY4MDAzYThiZTM5IiwiZW1haWwiOiJnb3d0aGFtLmFsYS4yb281QGdtYWlsLmNvbSIsInN1YiI6Imdvd3RoYW0tMm9vNSIsImlhdCI6MTc1MjE2MzE5NCwiZXhwIjoxNzUyMjQ5NTk0fQ._zOnaWsKlTrBwQ8TC3LxhMvLezBppWMX1qJ1WryT8YlvYz6h23j9Ol_LEGkCMib7

### 1. Mark Individual Attendance (Fixed schema - removed parsedDateTime, using real student UUIDs)
POST {{baseUrl}}/api/attendance/mark
Authorization: {{authToken}}
Content-Type: application/json

{
  "timeSlotId": 1,
  "dateTime": "2024-01-15T09:00:00",
  "absentStudentIds": [
    "decef903-70df-430c-b39f-2b95b74ca230"
  ],
  "lateStudents": [
    {
      "studentId": "9f2e140b-4811-41d4-97b4-baea23d0e656",
      "feedback": "Arrived 10 minutes late"
    }
  ]
}

### 2. Mark Bulk Attendance
POST {{baseUrl}}/api/attendance/mark/bulk
Authorization: {{authToken}}
Content-Type: application/json

{
  "timeSlotId": 2,
  "dateTime": "2024-01-15T10:15:00",
  "absentStudentIds": [
    "550e8400-e29b-41d4-a716-446655440003",
    "550e8400-e29b-41d4-a716-446655440008"
  ],
  "lateStudents": [
    {
      "studentId": "550e8400-e29b-41d4-a716-446655440009",
      "feedback": "Late due to traffic"
    }
  ]
}

### 3. Get Time Slot Attendance
GET {{baseUrl}}/api/attendance/time-slot/1?date=2024-01-15
Authorization: {{authToken}}

### 4. Get Student Attendance (Replace with actual UUID)
GET {{baseUrl}}/api/attendance/student/550e8400-e29b-41d4-a716-446655440003?startDate=2024-01-01&endDate=2024-01-31
Authorization: {{authToken}}

### 5. Get Section Attendance Records (Replace with actual UUID)
GET {{baseUrl}}/api/attendance/section/550e8400-e29b-41d4-a716-446655440004?startDate=2024-01-01&endDate=2024-01-31
Authorization: {{authToken}}

### 6. Get Student Attendance Report (Replace with actual UUID)
GET {{baseUrl}}/api/attendance/report/550e8400-e29b-41d4-a716-446655440003?startDate=2024-01-01&endDate=2024-01-31
Authorization: {{authToken}}

### 7. Archive Attendance Records
POST {{baseUrl}}/api/attendance/archive?year=2023&month=12
Authorization: {{authToken}}

### 8. Get Archived Student Attendance (Replace with actual UUID)
GET {{baseUrl}}/api/attendance/archived/student/550e8400-e29b-41d4-a716-446655440003?startDate=2023-12-01&endDate=2023-12-31
Authorization: {{authToken}}

### 9. Get Archived Student Attendance Report (Replace with actual UUID)
GET {{baseUrl}}/api/attendance/archived/report/550e8400-e29b-41d4-a716-446655440003?startDate=2023-12-01&endDate=2023-12-31
Authorization: {{authToken}}

### 10. Mark Attendance for Different Time Slot
POST {{baseUrl}}/api/attendance/mark
Authorization: {{authToken}}
Content-Type: application/json

{
  "timeSlotId": 4,
  "dateTime": "2024-01-15T14:00:00",
  "absentStudentIds": [],
  "lateStudents": []
}

### 11. Mark Attendance with Multiple Absent Students
POST {{baseUrl}}/api/attendance/mark
Authorization: {{authToken}}
Content-Type: application/json

{
  "timeSlotId": 5,
  "dateTime": "2024-01-15T15:15:00",
  "absentStudentIds": [
    "550e8400-e29b-41d4-a716-446655440003",
    "550e8400-e29b-41d4-a716-446655440008",
    "550e8400-e29b-41d4-a716-446655440009"
  ],
  "lateStudents": [
    {
      "studentId": "550e8400-e29b-41d4-a716-446655440007",
      "feedback": "Medical appointment"
    }
  ]
}
